{% extends 'base.html.twig' %}

{% block body %}
    <h1>Home Page</h1>
    <p>currently logged in as {{ role }}</p>

    {% if users != null %}
        <h2>Users</h2>
        {{ dump(users) }}
        <table class="table table-dark">
            <thead>
            <tr>
                <th>Name</th>
                <th>Email</th>
                <th>Enabled</th>
                <th>Actions</th>
            </tr>
            </thead>
            <tbody>
            {% for user in users[0] %}
                <tr>
                    <td>{{ user.username }}</td>
                    <td>{{ user.email }}</td>
                    <td>{{ user.enabled }}</td>
                    <td>
                        <a
                                class="btn btn-danger btn-xs"
                                href="{{ path('disable_user', { 'id': user.id }) }}">
                            Disable
                        </a>

                    </td>
                </tr>
            {% endfor %}
            </tbody>
        </table>
    {% endif %}

    {% if courses != null %}
        <h2>Courses</h2>
        {{ dump(courses) }}
        <table class="table table-dark">
            <thead>
            <tr>
                <th>Name</th>
                <th>Description</th>
                <th>Enabled</th>
                <th>Created by</th>
                <th>Actions</th>
            </tr>
            </thead>
            <tbody>
            {% for course in courses %}
                <tr>
                    <td>{{ course.name }}</td>
                    <td>{{ course.description }}</td>
                    <td>{{ course.getisEnabled }}</td>
                    <td>{{ course.user.username }}</td>
                    <td>
                        <a
                                class="btn btn-danger btn-xs"
                                href="{{ path('disable_course', { 'id': course.id }) }}">
                            Disable
                        </a>

                    </td>
                </tr>
            {% endfor %}
            </tbody>
        </table>
    {% endif %}


    {% if subjects != null %}
        <h2>Subjects</h2>
        {{ dump(subjects) }}
        <table class="table table-dark">
            <thead>
            <tr>
                <th>Name</th>
                <th>Description</th>
                <th>Enabled</th>
                <th>Created by</th>
                <th>Actions</th>
            </tr>
            </thead>
            <tbody>
            {% for subject in subjects %}
                <tr>
                    <td>{{ subject.name }}</td>
                    <td>{{ subject.description }}</td>
                    <td>{{ subject.getisEnabled }}</td>
                    <td>{{ subject.user.username }}</td>
                    <td>
                        <a
                                class="btn btn-danger btn-xs"
                                href="{{ path('disable_subject', { 'id': subject.id }) }}">
                            Disable
                        </a>

                    </td>
                </tr>
            {% endfor %}
            </tbody>
        </table>
    {% endif %}


    {% if current_user.getCourse() != null %}
        <h3>Adopted Course</h3>
        <h5>{{ current_user.getCourse() }}</h5>

        {% if role == 'ROLE_STUDENT' %}
            <a
                    class="btn btn-primary btn-xs"
                    href="{{ path('adoptCourse') }}">
                Adopt another Course
            </a>

        {% endif %}

    {% else %}
        <h3>No adopted Course</h3>
        {% if role == 'ROLE_STUDENT' %}
            <a
                    class="btn btn-primary btn-xs"
                    href="{{ path('adoptCourse') }}">
                Adopt Course
            </a>

        {% endif %}
    {% endif %}

{% endblock %}

{% block stylesheets %}
{% endblock %}
